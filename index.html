<!DOCTYPE html>
<html>
  <head>
    <title>Current Date</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <style>
      .container {
        margin-top: 20px;
      }
      .notes {
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <div class="loger" >
      <button onclick="window.location.href='reglog.html'" class=" btn butno ml-2 mt-1"style="border: 1px solid grey" href="reglog.html">Login</button>
      <button onclick="window.location.href='reglog.html'" class=" btn butno ml-2 mt-1"style="border: 1px solid grey">Register</button>
      
    </div>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-6">
         
         
          <h1 id="maintext" class="text-center">Current Date</h1>
          
          <p id="date" class="text-center"></p>

          <div class="text-center">
            <button style="border: 1px solid grey" class="btn mr-2 butno mt-2" id="decreaseDate">Decrease</button>
            <button style="border: 1px solid grey" class="btn butno mt-2" id="increaseDate">Increase</button>
          </div>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-6">
          <h2 class="text-center mt-4">Notes</h2>
          <div id="notesList" class="notes"></div>
          <form id="addNoteForm" class="mt-3">
            <div class="form-group">
              <input type="text" id="noteInput" class="form-control" rows="3" placeholder="Enter a note"></input>
            </div>
            <button type="submit"style="border: 1px solid grey" class="btn butno">Add Note</button>
          </form>
        </div>
      </div>
    </div>

    <script>
      var currentDate = new Date();
      var dateElement = document.getElementById("date");
      var maintextElement = document.getElementById("maintext");
      var decreaseButton = document.getElementById("decreaseDate");
      var increaseButton = document.getElementById("increaseDate");
      var addNoteForm = document.getElementById("addNoteForm");
      var noteInput = document.getElementById("noteInput");
      var notesList = document.getElementById("notesList");
      var notes = [];

      // Function to update the displayed date
      function updateDate() {
        var formattedDate = currentDate.toLocaleDateString("en-US", {
          year: "numeric",
          month: "long",
          day: "numeric",
        });
        dateElement.textContent = formattedDate;
        
        if (currentDate.toDateString() === new Date().toDateString()) {
          maintextElement.style.display = "block";
        } else {
          maintextElement.style.display = "none";
        }
      }

      // Function to add a note
      function addNote() {
        var note = noteInput.value.trim();
        if (note !== "") {
          var noteObject = {
            date: currentDate.toDateString(),
            note: note,
          };
          notes.push(noteObject);
          renderNotes();
          noteInput.value = "";
        }
      }

      // Function to remove a note
      function removeNote(index) {
        notes.splice(index, 1);
        renderNotes();
      }
// Function to render the notes on the page
function renderNotes() {
  notesList.innerHTML = "";
  notes.forEach(function (noteObject, index) {
    if (noteObject.date === currentDate.toDateString()) {
      var noteItem = document.createElement("div");
      noteItem.className =
        "alert  d-flex justify-content-between align-items-center";
      noteItem.innerHTML = `
        <span>${noteObject.note}</span>
        <button type="button" class="btn-close" aria-label="Remove" onclick="removeNote(${index})"></button>
      `;
      notesList.appendChild(noteItem);
    }
  });
}

// Function to update the displayed date and render notes
function updateDate() {
  var formattedDate = currentDate.toLocaleDateString("en-US", {
    year: "numeric",
    month: "long",
    day: "numeric",
  });
  dateElement.textContent = formattedDate;

  if (currentDate.toDateString() === new Date().toDateString()) {
    maintextElement.style.display = "block";
  } else {
    maintextElement.style.display = "none";
  }

  renderNotes(); // Render notes for the updated date
}


      // Event listener for the "Decrease" button
      decreaseButton.addEventListener("click", function () {
        currentDate.setDate(currentDate.getDate() - 1);
        updateDate();
      });

      // Event listener for the "Increase" button
      increaseButton.addEventListener("click", function () {
        currentDate.setDate(currentDate.getDate() + 1);
        updateDate();
      });

      // Event listener for the form submission
      addNoteForm.addEventListener("submit", function (event) {
        event.preventDefault();
        addNote();
      });

      // Initialize the date and notes on page load
      updateDate();
      renderNotes();
    </script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXy2MS4NsjvxXvxB7b8fupts4KlmanM5Gk5jHoo4rnm" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>
